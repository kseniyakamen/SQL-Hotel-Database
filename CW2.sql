SET TERMOUT ON
PROMPT Building demonstration tables.  Please wait.
SET TERMOUT OFF

DROP TABLE BOOKING;
DROP TABLE RESERVATION;
DROP TABLE ROOM;
DROP TABLE GUEST;
DROP TABLE AMENITIES;
DROP TABLE PAYMENT;
DROP TABLE EXTRAPAYMENT;
DROP TABLE PSTATEMENT;

CREATE TABLE BOOKING
       (BOOKINGID VARCHAR2(7) NOT NULL,
        GUESTID VARCHAR2(6) REFERENCES GUEST (GUESTID),
        RESERVATIONNO (7) REFERENCES RESERVATION (RESERVATIONNO),
        BSURNAME VARCHAR2(50) NOT NULL,
        GUESTQTY NUMBER(3),
        HOTEL VARCHAR2(25),
        PAYMENTID VARCHAR2(6) REFERENCES PAYMENT (PAYMENTID),
        PRIMARY KEY (BOOKINGID));
        
        
        INSERT INTO BOOKING VALUES
        ('REF0001', 'J00001','RN00001', 'DOE', 2, 'Attributes HOTEL','P00001');
        INSERT INTO BOOKING VALUES
        ('REF0002', 'J00002','RN00002', 'LEE', 1, 'Attributes HOTEL', 'P00002');
        INSERT INTO BOOKING VALUES
        ('REF0003', 'J00003','RN00003', 'ROGERS', 1, 'Attributes HOTEL','P00003');
        INSERT INTO BOOKING VALUES
        ('REF0004', 'J00004','RN00004', 'MARSHAL', 3, 'Attributes HOTEL', 'P00004');
        INSERT INTO BOOKING VALUES
        ('REF0005', 'J00005','RN00005', 'PARKER', 2, 'Attributes HOTEL','P00005');
        INSERT INTO BOOKING VALUES
        ('REF0006', 'J00006','RN00006', 'KARDASHIAN', 1, 'Attributes HOTEL','P00006');
        
CREATE TABLE GUEST

		(GUESTID VARCHAR2(6) NOT NULL,
		FNAME VARCHAR2 (50) NOT NULL,
		LNAME VARCHAR2 (50) NOT NULL,
		COUNTRY VARCHAR2 (50),
		EMAIL VARCHAR2(50),
		PHONENO NUMBER(15),
		BOOKINGID VARCHAR2(7) REFERENCES BOOKING (BOOKINGID),
		PINFO VARCHAR2 (6) REFERENCES EXTRAPAYMENTINFO (PINFO),
		PRIMARY KEY (GUESTID));
		
		INSERT INTO GUEST VALUES
		('J00001', 'JANE', 'DOE', 'USA', 'j.d@gmail.com', 0780123456, 'REF0001','EP0001');
		INSERT INTO GUEST VALUES
		('J00002', 'AMY', 'LEE', 'CANADA', 'a.l@gmail.com', 0769034567, 'REF0002','EP0002');
		INSERT INTO GUEST VALUES
		('J00003', 'MICHEL', 'ROGERS', 'FRANCE', 'm.r@gmail.com', 0234567808, 'REF0003','EP0003');
		INSERT INTO GUEST VALUES
		('J00004', 'JIM', 'MARSHAL', 'AUSTRALIA', 'j.m@gmail.com', 0559888822, 'REF0004','EP0004');
		INSERT INTO GUEST VALUES
		('J00005', 'TONY', 'PARKER', 'UK', 't.p@live.com', 0233445231, 'REF0005', NULL);
		INSERT INTO GUEST VALUES
		('J00006', 'KRIS', 'JENNER','USA', 'manager@kardashian.com', 009871123, 'REF0006','EP0006');
		
		
CREATE TABLE ROOM

		(ROOMID VARCHAR2(4) NOT NULL,
		ROOMNO NUMBER(3) NOT NULL,
		ROOMTYPE VARCHAR2(15),
		RATE NUMBER(8,2),
		FLOORNO NUMBER(3),
		PRIMARY KEY (ROOMID));
		
		INSERT INTO ROOM VALUES
		('D301', 301,'DELUXE', 190, 3);
		INSERT INTO ROOM VALUES
		('M401', 401,'MAGNIFICENT', 220, 4);
		INSERT INTO ROOM VALUES
		('D302', 302,'DELUXE', 190, 3);
		INSERT INTO ROOM VALUES
		('M500', 500, 'MAGNIFICENT', 220, 2);
		INSERT INTO ROOM VALUES
		('E201', 201,'EXCELLENT', 175, 2);
		INSERT INTO ROOM VALUES
		('D303', 303,'DELUXE', 190, 3);

		


CREATE TABLE RESERVATION
		
		(RESERVATIONNO VARCHAR2(7) NOT NULL,
		BOOKINGID VARCHAR2(7) REFERENCES BOOKING (BOOKINGID),
		ROOMID VARCHAR2(4) REFERENCES ROOM (ROOMID),
		SDATE DATE,
		EDATE DATE,
		PRIMARY KEY (RESERVATIONNO));
        
        INSERT INTO RESERVATION VALUES
        ('RN00001','REF0001', 'D301',
         TO_DATE('10-NOV-2018', 'DD-MON-YYYY'),
         TO_DATE('15-NOV-2018', 'DD-MON-YYYY'));
		INSERT INTO RESERVATION VALUES
		('RN00002','REF0002', 'M401',
		TO_DATE('01-JAN-2019', 'DD-MON-YYYY'),
        TO_DATE('04-JAN-2019', 'DD-MON-YYYY'));
		INSERT INTO RESERVATION VALUES
		('RN00003','REF0003', 'D302',
		TO_DATE('05-JAN-1980', 'DD-MON-YYYY'),
        TO_DATE('10-JAN-1980', 'DD-MON-YYYY'));
		INSERT INTO RESERVATION VALUES
		('RN00004','REF0004', 'M500',
		TO_DATE('20-DEC-2018', 'DD-MON-YYYY'),
        TO_DATE('25-DEC-2018', 'DD-MON-YYYY'));
		INSERT INTO RESERVATION VALUES
		('RN00005','REF0005', 'E201',
		TO_DATE('19-DEC-2018', 'DD-MON-YYYY'),
        TO_DATE('25-DEC-2018', 'DD-MON-YYYY'));
		INSERT INTO RESERVATION VALUES
		('RN00006','REF0006', 'D303',
		TO_DATE('20-JAN-2019', 'DD-MON-YYYY'),
        TO_DATE('30-JAN-2019', 'DD-MON-YYYY'));
        
CREATE TABLE AMENITIES
		(AMENITYID VARCHAR2(6) NOT NULL,
		ANAME VARCHAR2(50) NOT NULL,
		PRICE NUMBER(7,2) NOT NULL,
		PRIMARY KEY (AMENITYID));
		
		 INSERT INTO AMENITIES VALUES
		 ('A00001', 'MINIBAR', 17.5);
		 INSERT INTO AMENITIES VALUES
		 ('A00002', 'ROOMSERVICE', 25);
		 INSERT INTO AMENITIES VALUES
		 ('A00003', 'PROPERTY DAMAGE', 200);
		 INSERT INTO AMENITIES VALUES
		 ('A00004', 'MASSAGE', 45);
		 INSERT INTO AMENITIES VALUES
		 ('A00005', 'DRYCLEANING', 30);
		 INSERT INTO AMENITIES VALUES
		 ('A00006', 'FOREIGN PHONECALL', 5.64);
		
		
CREATE TABLE EXTRAPAYMENTINFO
		(PINFO VARCHAR2 (6) NOT NULL,
		AMENITYID VARCHAR2(6) REFERENCES AMENITIES (AMENITYID),
		QTY NUMBER(7),
		GUESTID VARCHAR2(6) REFERENCES GUEST (GUESTID),
		PRIMARY KEY (PINFO));
		
		 INSERT INTO EXTRAPAYMENT VALUES
		 ('EP0001', 'A00002', 2, 'J00001'); 
		 INSERT INTO EXTRAPAYMENT VALUES
		 ('EP0002', 'A00005', 1, 'J00002');
		 INSERT INTO EXTRAPAYMENT VALUES
		 ('EP0003', 'A00004', 2, 'J00003');
		 INSERT INTO EXTRAPAYMENT VALUES
		 ('EP0004', 'A00006', 5, 'J00004');
		 INSERT INTO EXTRAPAYMENT VALUES
		 ('EP0005', 'A00004', 2, 'J00006');
		 INSERT INTO EXTRAPAYMENT VALUES
		 ('EP0006', 'A00002', 4, 'J00006');


CREATE TABLE PSTATEMENT
		(PSTATEMENTNO VARCHAR2 (7) NOT NULL,
		BOOKINGID VARCHAR2(7) REFERENCES BOOKING (BOOKINGID),
		PAYMENTID VARCHAR2(6) REFERENCES PAYMENT (PAYMENTID),
		PDATE DATE NOT NULL,
		PMETHOD VARCHAR2(50),
		PRIMARY KEY (PSTATEMENTNO));
		
		INSERT INTO PSTATEMENT VALUES
		('PS00001','REF0001', 'P00001', 'VISA',
		TO_DATE('10-OCT-2018', 'DD-MON-YYYY');
		INSERT INTO PSTATEMENT VALUES
		('PS00002', 'REF0002', 'P00002', 'VISA',
		TO_DATE('12-SEP-2018', 'DD-MON-YYYY');
		INSERT INTO PSTATEMENT VALUES
		('PS00003', 'REF0003', 'P00003', 'MASTERCARD',
		TO_DATE('19-OCT-2018', 'DD-MON-YYYY');
		INSERT INTO PSTATEMENT VALUES
		('PS00004', 'REF0004', 'P00004', 'PAYPAL',
		TO_DATE('10-AUG-2018', 'DD-MON-YYYY');
		INSERT INTO PSTATEMENT VALUES
		('PS00005', 'REF0005', 'P00005', 'MASTERCARD',
		TO_DATE('17-JUN-2018', 'DD-MON-YYYY');
		INSERT INTO PSTATEMENT VALUES
		('PS00006', 'REF0006', 'P00006', 'PAYPAL',
		TO_DATE('25-OCT-2018', 'DD-MON-YYYY');
		

CREATE TABLE PAYMENT
		(PAYMENTID VARCHAR2(6) NOT NULL,
		ROOMID VARCHAR2(4) REFERENCES ROOM (ROOMID),
		PSTATEMENTNO VARCHAR2(7) REFERENCES PSTATEMENT (PSTATEMENTNO),
		PRIMARY KEY (PAYMENTID));
		
		INSERT INTO PAYMENT VALUES
		('P00001','D301', 'PS00001');
		INSERT INTO PAYMENT VALUES
		('P00002','M401', 'PS00002');
		INSERT INTO PAYMENT VALUES
		('P00003','D302', 'PS00003');
		INSERT INTO PAYMENT VALUES
		('P00004','M500', 'PS00004');
		INSERT INTO PAYMENT VALUES
		('P00005','E201', 'PS00005');
		INSERT INTO PAYMENT VALUES
		('P00006', 'D303', 'PS00006');
        
        
        COMMIT;

COMMIT;

SET TERMOUT ON
PROMPT Demonstration table build is complete.

